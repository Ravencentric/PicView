<UserControl
    x:Class="PicView.Views.CustomTitleBars.WinTitleBar"
    xmlns="https://github.com/avaloniaui"
    xmlns:vm="using:PicView.ViewModels"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Design.DataContext>
        <vm:MainWindowViewModel />
    </Design.DataContext>

    <DockPanel LastChildFill="True">

        <Border
            Background="{StaticResource BackgroundSubtleHighlight}"
            BorderBrush="{StaticResource BorderColor}"
            BorderThickness="0,0,1,0"
            Height="30">
            <Image
                DockPanel.Dock="Left"
                Height="25"
                Margin="7,1,7,1"
                Source="avares://PicView/Assets/PicView/icon__Q6k_icon.ico"
                Width="30" />
        </Border>

        <Button
            Background="{StaticResource BackgroundSubtleHighlight}"
            BorderBrush="{StaticResource BorderColor}"
            BorderThickness="0,0,1,0"
            DockPanel.Dock="Left"
            Height="30"
            Name="GalleryButton"
            Width="30">
            <Image Width="17">
                <DrawingImage>
                    <DrawingGroup>
                        <GeometryDrawing Brush="{StaticResource IconColor}" Geometry="F1 M22 16L22 4C22 2.9 21.1 2 20 2L8 2C6.9 2 6 2.9 6 4L6 16C6 17.1 6.9 18 8 18L20 18C21.1 18 22 17.1 22 16ZM11 12L13.03 14.71L16 11L20 16L8 16L11 12ZM2 6L2 20C2 21.1 2.9 22 4 22L18 22L18 20L4 20L4 6L2 6Z" />
                    </DrawingGroup>
                </DrawingImage>
            </Image>
        </Button>

        <Button
            Background="{StaticResource BackgroundSubtleHighlight}"
            BorderBrush="{StaticResource BorderColor}"
            BorderThickness="0,0,1,0"
            DockPanel.Dock="Left"
            Height="30"
            Margin="0"
            Name="SearchButton"
            Width="30">
            <Path
                Data="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                Fill="{StaticResource IconColor}"
                Height="15"
                Stretch="Fill"
                Width="15" />
        </Button>

        <Button
            Background="{StaticResource BackgroundSubtleHighlight}"
            Command="{Binding ExitCommand}"
            DockPanel.Dock="Right"
            Height="30"
            Width="30">
            <Path
                Data="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"
                Fill="{StaticResource IconColor}"
                Height="12"
                Stretch="Fill"
                Width="12" />
        </Button>

        <Button
            Background="{StaticResource BackgroundSubtleHighlight}"
            BorderBrush="{StaticResource BorderColor}"
            BorderThickness="0,0,1,0"
            DockPanel.Dock="Right"
            Height="30"
            Name="RestoreButton"
            Width="30">
            <Path
                Data="M405.34 405.332H106.66V106.668H240V64H106.66C83.191 64 64 83.197 64 106.668v298.664C64 428.803 83.191 448 106.66 448h298.68c23.469 0 42.66-19.197 42.66-42.668V272h-42.66v133.332zM288 64v42.668h87.474L159.999 322.133l29.866 29.866 215.476-215.47V224H448V64H288z"
                Fill="{StaticResource IconColor}"
                Height="12"
                Stretch="Fill"
                Width="12" />
        </Button>

        <Button
            Background="{StaticResource BackgroundSubtleHighlight}"
            BorderBrush="{StaticResource BorderColor}"
            BorderThickness="1,0,1,0"
            Command="{Binding MinimizeCommand}"
            DockPanel.Dock="Right"
            Height="30"
            Width="30">
            <Viewbox Height="12" Width="12">
                <Path
                    Data="M24,11c0-0.6-0.4-1-1-1H1c-0.6,0-1,0.4-1,1v2c0,0.6,0.4,1,1,1h22c0.6,0,1-0.4,1-1V11z"
                    Fill="{StaticResource IconColor}"
                    Stretch="Fill" />
            </Viewbox>
        </Button>

        <TextBlock
            Background="{StaticResource BackgroundSubtleHighlight}"
            Foreground="{StaticResource MainColor}"
            PointerPressed="MoveWindow"
            FontSize="12"
            FontWeight="Bold"
            Height="30"
            MaxWidth="{Binding TitleWidth}"
            IsTabStop="False"
            Padding="3,6.5,3,5"
            Text="{Binding Title}"
            TextTrimming="CharacterEllipsis"
            TextAlignment="Center"
            VerticalAlignment="Center">
            <ToolTip.Tip>
                <TextBlock Text="{Binding Tooltip}" />
            </ToolTip.Tip>
        </TextBlock>
    </DockPanel>
</UserControl>
