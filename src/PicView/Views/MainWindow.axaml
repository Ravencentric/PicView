<Window
    Background="{StaticResource NoiseBg}"
    BorderThickness="0"
    ExtendClientAreaChromeHints="NoChrome"
    ExtendClientAreaTitleBarHeightHint="-1"
    ExtendClientAreaToDecorationsHint="True"
    MinHeight="400"
    MinWidth="462"
    SizeToContent="WidthAndHeight"
    Title="{Binding Title}"
    TransparencyLevelHint="AcrylicBlur"
    UseLayoutRounding="True"
    WindowStartupLocation="CenterScreen"
    x:Class="PicView.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:customTitleBars="clr-namespace:PicView.Views.CustomTitleBars" Opened="TopLevel_OnOpened"
    xmlns:uc="using:PicView.CustomControls"
    xmlns:vm="using:PicView.ViewModels"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Design.DataContext>
        <vm:MainWindowViewModel />
    </Design.DataContext>

    <Border
        BorderBrush="{StaticResource BorderColor}"
        BorderThickness="1"
        CornerRadius="2">
        <DockPanel>
            <customTitleBars:WinTitleBar DockPanel.Dock="Top" />
            <Rectangle
                DockPanel.Dock="Top"
                Fill="{StaticResource BorderColor}"
                Height="1" />

            <Border
                Background="Transparent"
                BorderBrush="{StaticResource BorderColor}"
                BorderThickness="0,1,0,0"
                DockPanel.Dock="Bottom"
                Height="25">
                <Grid x:Name="LowerBar">
                    <Canvas
                        Background="Transparent"
                        Height="25"
                        HorizontalAlignment="Center"
                        Width="397">

                        <Button
                            Background="{StaticResource BackgroundSubtleHighlight}"
                            BorderBrush="{StaticResource BorderColor}"
                            BorderThickness="1,0,1,1"
                            Focusable="False"
                            Height="25"
                            Width="55">
                            <Path
                                Data="M30.718,23.404l0.007-19.877c-0.003-0.611-0.499-1.107-1.109-1.107H15.597  c-0.433-0.01-0.771-0.807-0.771-1.111V1.182c0-0.648-0.528-1.182-1.18-1.182h-7.46C5.535,0,5.008,0.533,5.008,1.182v0.127  c0,0.309-0.341,1.117-0.784,1.117h0.013c-0.604,0.008-1.094,0.5-1.094,1.105l0.005,5.754H0.763c0,0-1.056-0.057-0.683,1.199  l2.516,12.92c0,0.65,0.453,1.176,1.104,1.176h26.474C30.824,24.58,30.718,23.404,30.718,23.404z M29.359,10.949l-0.014,12.975  l-2.502-13.908c-0.212-0.764-1.075-0.711-1.075-0.711H4.51V4.891h24.85V10.949z"
                                Fill="{StaticResource IconColor}"
                                Height="19"
                                Margin="0,1,0,1"
                                Stretch="Fill"
                                Width="24" />
                        </Button>

                        <Button
                            Background="{StaticResource BackgroundSubtleHighlight}"
                            BorderBrush="{StaticResource BorderColor}"
                            BorderThickness="0,0,1,1"
                            Canvas.Left="55"
                            Focusable="False"
                            Height="25"
                            Width="55">
                            <Canvas
                                Height="25"
                                Margin="14,0,0,0"
                                Width="28">
                                <Path
                                    Canvas.Bottom="5"
                                    Canvas.Top="0"
                                    Data="F1M27.242,10.47L5.429,0.05C5.173,-0.072,4.868,0.035,4.748,0.287L0,10.223 2.587,10.223 6.073,2.922 24.983,11.956 19.071,24.335 15.741,22.744 15.741,29.289 17.786,30.267C18.042,30.39,18.346,30.28,18.467,30.027L27.484,11.149C27.605,10.897,27.497,10.593,27.242,10.47"
                                    Fill="{StaticResource IconColor}"
                                    Height="22"
                                    Stretch="Fill"
                                    Width="20" />
                                <Path
                                    Canvas.Left="-5.667"
                                    Canvas.Right="13"
                                    Canvas.Top="7"
                                    Data="F1M23.29,16.034L21.76,16.034C20.866,13.747 19.768,10.543 18.102,10.97 16.146,11.47 15.168,16.034 15.168,16.034 15.168,16.034 14.172,10.883 11.414,8.124 8.654,5.367 5.983,16.034 5.983,16.034L2.333,16.034 2.333,2.314 23.29,2.314z M24.688,0L0.511,0C0.228,0,0,0.229,0,0.509L0,21.429C0,21.71,0.228,21.94,0.511,21.94L24.688,21.94C24.97,21.94,25.198,21.71,25.198,21.429L25.198,0.509C25.198,0.229,24.97,0,24.688,0"
                                    Fill="{StaticResource IconColor}"
                                    Height="16"
                                    Stretch="Fill"
                                    Width="18" />
                                <Path
                                    Canvas.Bottom="10"
                                    Canvas.Right="17"
                                    Data="F1M1.711,3.42C2.655,3.42 3.422,2.655 3.422,1.71 3.422,0.766 2.655,0 1.711,0 0.765,0 0,0.766 0,1.71 0,2.655 0.765,3.42 1.711,3.42"
                                    Fill="{StaticResource IconColor}"
                                    Height="5"
                                    Width="5" />
                            </Canvas>
                        </Button>

                        <Canvas
                            Background="{StaticResource BackgroundColorFadeSubtle}"
                            Canvas.Left="109.5"
                            Height="25"
                            Width="180">

                            <Button
                                Background="Transparent"
                                BorderBrush="{StaticResource BorderColor}"
                                BorderThickness="0,0,1,1"
                                Focusable="False"
                                Height="25"
                                Width="90">
                                <Path
                                    Data="F1M27.008,0L27.01,31.062 0,15.529z"
                                    Fill="{StaticResource IconColor}"
                                    Height="20"
                                    Stretch="Fill"
                                    Width="17" />
                            </Button>

                            <Button
                                Background="Transparent"
                                BorderBrush="{StaticResource BorderColor}"
                                BorderThickness="0,0,1,1"
                                Canvas.Left="90"
                                Focusable="False"
                                Height="25"
                                Width="90">
                                <Path
                                    Data="F1M0.002,31.062L0,0 27.01,15.534z"
                                    Fill="{StaticResource IconColor}"
                                    Height="20"
                                    Stretch="Fill"
                                    Width="17" />
                            </Button>
                        </Canvas>

                        <Button
                            Background="{StaticResource BackgroundSubtleHighlight}"
                            BorderBrush="{StaticResource BorderColor}"
                            BorderThickness="0,0,1,1"
                            Canvas.Left="289"
                            Focusable="False"
                            Height="25"
                            Width="55">
                            <Path
                                Data="M413.967,276.8c1.06-6.235,1.06-13.518,1.06-20.8s-1.06-13.518-1.06-20.8l44.667-34.318   c4.26-3.118,5.319-8.317,2.13-13.518L418.215,115.6c-2.129-4.164-8.507-6.235-12.767-4.164l-53.186,20.801   c-10.638-8.318-23.394-15.601-36.16-20.801l-7.448-55.117c-1.06-4.154-5.319-8.318-10.638-8.318h-85.098   c-5.318,0-9.577,4.164-10.637,8.318l-8.508,55.117c-12.767,5.2-24.464,12.482-36.171,20.801l-53.186-20.801   c-5.319-2.071-10.638,0-12.767,4.164l-42.549,71.765c-2.119,4.153-1.061,10.399,2.129,13.518L96.97,235.2   c0,7.282-1.06,13.518-1.06,20.8s1.06,13.518,1.06,20.8l-44.668,34.318c-4.26,3.118-5.318,8.317-2.13,13.518L92.721,396.4   c2.13,4.164,8.508,6.235,12.767,4.164l53.187-20.801c10.637,8.318,23.394,15.601,36.16,20.801l8.508,55.117   c1.069,5.2,5.318,8.318,10.637,8.318h85.098c5.319,0,9.578-4.164,10.638-8.318l8.518-55.117c12.757-5.2,24.464-12.482,36.16-20.801   l53.187,20.801c5.318,2.071,10.637,0,12.767-4.164l42.549-71.765c2.129-4.153,1.06-10.399-2.13-13.518L413.967,276.8z    M255.468,328.8c-41.489,0-74.46-32.235-74.46-72.8s32.971-72.8,74.46-72.8s74.461,32.235,74.461,72.8S296.957,328.8,255.468,328.8   z"
                                Fill="{StaticResource IconColor}"
                                Height="18"
                                Stretch="Fill"
                                Width="18" />
                        </Button>

                        <Button
                            Background="{StaticResource BackgroundSubtleHighlight}"
                            BorderBrush="{StaticResource BorderColor}"
                            BorderThickness="0,0,1,1"
                            Canvas.Left="343"
                            Focusable="False"
                            Height="25"
                            Width="55">
                            <Image Height="18" Width="18">
                                <DrawingImage>
                                    <DrawingGroup>
                                        <GeometryDrawing Brush="{StaticResource IconColor}" Geometry="F1 M7.5 5.6L10 7L8.6 4.5L10 2L7.5 3.4L5 2L6.4 4.5L5 7L7.5 5.6ZM19.5 15.4L17 14L18.4 16.5L17 19L19.5 17.6L22 19L20.6 16.5L22 14L19.5 15.4ZM22 2L19.5 3.4L17 2L18.4 4.5L17 7L19.5 5.6L22 7L20.6 4.5L22 2ZM14.37 7.29C13.98 6.9 13.35 6.9 12.96 7.29L1.29 18.96C0.9 19.35 0.9 19.98 1.29 20.37L3.63 22.71C4.02 23.1 4.65 23.1 5.04 22.71L16.7 11.05C17.09 10.66 17.09 10.03 16.7 9.64L14.37 7.29L14.37 7.29ZM13.34 12.78L11.22 10.66L13.66 8.22L15.78 10.34L13.34 12.78L13.34 12.78Z" />
                                    </DrawingGroup>
                                </DrawingImage>
                            </Image>
                        </Button>

                    </Canvas>

                    <Path
                        Data="M330.664 296 v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"
                        Fill="{StaticResource IconColor}"
                        Height="12"
                        HorizontalAlignment="Right"
                        Margin="0,0,3,3"
                        Stretch="Fill"
                        VerticalAlignment="Bottom"
                        Width="12" />

                </Grid>
            </Border>
            
            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                <Border x:Name="ImageBorder">
                    <Image x:Name="MainImage" Stretch="Uniform" Source="{Binding Pic}"  />
                </Border>
                
            </ScrollViewer>
        </DockPanel>
    </Border>
</Window>